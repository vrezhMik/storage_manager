(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6266:function(e,t,n){Promise.resolve().then(n.bind(n,7850)),Promise.resolve().then(n.bind(n,912)),Promise.resolve().then(n.bind(n,1481)),Promise.resolve().then(n.t.bind(n,7496,23)),Promise.resolve().then(n.t.bind(n,8877,23))},7850:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(7437),s=n(7138),o=n(6463);function r(e){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...e,children:(0,i.jsx)("path",{d:"m15 18-6-6 6-6"})})}n(2265);var a=function(e){return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-key-round h-4 w-4","aria-hidden":"true",...e,children:[(0,i.jsx)("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),(0,i.jsx)("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})},l=function(e){return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-log-out h-4 w-4","aria-hidden":"true",...e,children:[(0,i.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,i.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,i.jsx)("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]})},c=n(4984);function u(){let e=(0,o.useRouter)(),t=(0,o.usePathname)()||"/";if(t.startsWith("/login")||t.startsWith("/api/auth"))return null;let n=t.startsWith("/documents/in")?"Մուտքեր":t.startsWith("/documents/out")?"Ելքեր":t.startsWith("/password")?"Գաղտնաբառ":"/"===t?"Գլխավոր էջ":"Flexit տերմինալ";return(0,i.jsx)("header",{className:"sticky top-0 z-50 w-full border-b border-border bg-card shadow-sm",children:(0,i.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:["/"!==t&&(0,i.jsx)("button",{onClick:()=>e.back(),className:"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-9 w-9 p-0",children:(0,i.jsx)(r,{className:"h-5 w-5"})}),(0,i.jsx)("h1",{className:"text-lg font-semibold text-foreground",children:n})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(s.default,{href:"/password",className:"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-9 w-9 p-0",children:(0,i.jsx)(a,{className:"h-4 w-4"})}),(0,i.jsx)("button",{className:"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-9 w-9 p-0",onClick:()=>{(0,c.xS)().finally(()=>e.replace("/login"))},children:(0,i.jsx)(l,{className:"h-4 w-4"})})]})]})})}},4984:function(e,t,n){"use strict";n.d(t,{AW:function(){return a},Fv:function(){return s},Gn:function(){return i},SH:function(){return d},Sg:function(){return r},X6:function(){return l},jb:function(){return u},t3:function(){return o},xS:function(){return c}});let i="user_email",s="user_manual_allowed",o="user_manual_text_allowed",r="https://admin.flexit.am/api".replace(/\/+$/,"")||"https://admin.flexit.am/api";function a(e){var t,n,r;(null===(t=e.user)||void 0===t?void 0:t.email)&&window.localStorage.setItem(i,e.user.email),"boolean"==typeof(null===(n=e.user)||void 0===n?void 0:n.allow_manual_items)&&window.localStorage.setItem(s,String(e.user.allow_manual_items)),"boolean"==typeof(null===(r=e.user)||void 0===r?void 0:r.allow_manual_text_input)&&window.localStorage.setItem(o,String(e.user.allow_manual_text_input))}function l(){["access_token","refresh_token","access_expires_at",i,s,o].forEach(e=>window.localStorage.removeItem(e))}async function c(){try{await fetch("".concat(r,"/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})}catch(e){}finally{l()}}async function u(){let e=await fetch("".concat(r,"/auth/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});return e.ok?(a(await e.json()),!0):(l(),!1)}async function d(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.startsWith("http")?e:"".concat(r).concat(e.startsWith("/")?"":"/").concat(e),s={...n,cache:null!==(t=n.cache)&&void 0!==t?t:"no-store",credentials:"include",headers:{"Content-Type":"application/json",...n.headers||{}}},o=await fetch(i,s);if(401===o.status)throw Error("Unauthorized");if(!o.ok){let e=await o.text();throw Error("Request failed (".concat(o.status,"): ").concat(e))}if(204===o.status)return;let a=await o.text();try{return a?JSON.parse(a):void 0}catch(e){return a}}},8877:function(){},7496:function(e){e.exports={style:{fontFamily:"'__Inter_8b3a0b', '__Inter_Fallback_8b3a0b'",fontStyle:"normal"},className:"__className_8b3a0b"}}},function(e){e.O(0,[378,851,971,23,744],function(){return e(e.s=6266)}),_N_E=e.O()}]);