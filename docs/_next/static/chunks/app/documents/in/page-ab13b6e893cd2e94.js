(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[589],{7911:function(e,t,n){Promise.resolve().then(n.bind(n,5695))},6504:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437);function s(e){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...e,children:[(0,r.jsx)("path",{d:"M12 17V3"}),(0,r.jsx)("path",{d:"m6 11 6 6 6-6"}),(0,r.jsx)("path",{d:"M19 21H5"})]})}},4189:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437);function s(e){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...e,children:[(0,r.jsx)("path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3Z"}),(0,r.jsx)("circle",{cx:"12",cy:"13",r:"3"})]})}},6652:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437);function s(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...e,children:(0,r.jsx)("path",{d:"m15 18-6-6 6-6"})})}},1463:function(e,t,n){"use strict";var r=n(7437);n(2265),t.Z=function(e){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-key-round h-4 w-4","aria-hidden":"true",...e,children:[(0,r.jsx)("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),(0,r.jsx)("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}},3746:function(e,t,n){"use strict";var r=n(7437);n(2265),t.Z=function(e){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-log-out h-4 w-4","aria-hidden":"true",...e,children:[(0,r.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,r.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,r.jsx)("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]})}},3602:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437);function s(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...e,children:(0,r.jsx)("path",{d:"M5 12h14"})})}},6023:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437);function s(e){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...e,children:[(0,r.jsx)("path",{d:"M5 12h14"}),(0,r.jsx)("path",{d:"M12 5v14"})]})}},3587:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437);function s(e){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...e,children:[(0,r.jsx)("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),(0,r.jsx)("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),(0,r.jsx)("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),(0,r.jsx)("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"})]})}},5695:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(7437),s=n(2265),i=n(4364),o=n(6463),a=n(6504),c=n(4189),l=n(6652),d=n(1463),u=n(3746),f=n(3602),x=n(6023),h=n(3587);function v(){let e=(0,o.useRouter)(),[t,n]=(0,s.useState)("manual"),v=(0,s.useRef)(null),m=(0,s.useRef)(null),g=(0,s.useRef)(null),p=(0,s.useRef)(null),b=(0,s.useRef)(null),w=(0,s.useRef)(null),[j,k]=(0,s.useState)(null),[y,N]=(0,s.useState)(null),_="in-order",M=(0,s.useRef)(null),C=(0,s.useRef)({});(0,s.useEffect)(()=>{let e=e=>{let t=e.trim();if(!t)return;let r=Date.now();if(!M.current||M.current.code!==t||!(r-M.current.time<1e3)){if(k(t),B.current.find(e=>e.code===t)){N(null),z(t,1),M.current={code:t,time:r};let e=C.current[t];e&&e.scrollIntoView({behavior:"smooth",block:"center"}),n("manual")}else N("Բարկոդը չի գտնվել ապրանքների ցանկում"),M.current={code:t,time:r}}},r=async()=>{if("BarcodeDetector"in window)try{let t=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}}});m.current=t,v.current&&(v.current.srcObject=t,await v.current.play()),await o(e)}catch(e){N("Բարկոդ ընթերցումը հասանելի չէ այս սարքում")}else await s(e)},s=async e=>{if(!v.current)return;let t=new i.VJ;g.current=t;try{let n=await t.decodeFromVideoDevice(void 0,v.current,(t,n)=>{(null==t?void 0:t.getText())?e(t.getText()):n&&"NotFoundException"!==n.name&&N("Չհաջողվեց ընթերցել բարկոդը")});p.current=n}catch(e){N("Բարկոդ ընթերցումը հասանելի չէ այս սարքում")}},o=async e=>{if(!("BarcodeDetector"in window))return;w.current||(w.current=new BarcodeDetector({formats:["code_128","ean_13","ean_8","qr_code"]}));let t=async()=>{if(v.current&&w.current){try{let t=await w.current.detect(v.current);if(t.length>0){var n;let r=null!==(n=t[0].rawValue)&&void 0!==n?n:"";e(r)}}catch(e){N("Չհաջողվեց ընթերցել բարկոդը")}b.current=requestAnimationFrame(t)}};t()},a=()=>{var e;b.current&&(cancelAnimationFrame(b.current),b.current=null),g.current=null,(null===(e=p.current)||void 0===e?void 0:e.stop)&&(p.current.stop(),p.current=null),m.current&&(m.current.getTracks().forEach(e=>e.stop()),m.current=null),v.current&&(v.current.srcObject=null),w.current=null,k(null),N(null)};return"camera"===t?r():a(),a},[t]);let[Z,L]=(0,s.useState)([{title:"Բժշկական սարքավորում",code:"IMP-2024-001",location:"A-05-10",stock:12,current:0},{title:"Դեղորայքներ",code:"IMP-2024-002",location:"B-12-08",stock:34,current:0},{title:"Վիրակապի նյութեր",code:"IMP-2024-003",location:"C-18-15",stock:20,current:0},{title:"Լաբորատոր սարքավորում",code:"IMP-2024-004",location:"D-22-05",stock:7,current:0},{title:"Պաշտպանիչ միջոցներ",code:"IMP-2024-005",location:"E-10-20",stock:50,current:0},{title:"Գիրք (թեստ)",code:"9785353004325",location:"Test",stock:5,current:0}]),B=(0,s.useRef)(Z);(0,s.useEffect)(()=>{{let e=window.localStorage.getItem(_);if(e)try{let t=JSON.parse(e);Array.isArray(t)&&(L(t),B.current=t)}catch(e){}}},[_]);let z=(e,t)=>{L(n=>n.map(n=>{if(n.code!==e)return n;let r=t>0?t:0,s=t<0?Math.min(Math.abs(t),n.current):0,i=Math.max(0,n.current+r-s),o="number"==typeof n.stock?Math.max(0,n.stock+r-s):n.stock;return{...n,current:i,stock:o}}))};return(0,s.useEffect)(()=>{B.current=Z},[Z]),(0,r.jsxs)("div",{className:"App",children:[(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)("header",{className:"sticky top-0 z-50 w-full border-b border-border bg-card shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>e.push("/documents"),className:"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-9 w-9 p-0",children:(0,r.jsx)(l.Z,{className:"h-5 w-5"})}),(0,r.jsx)("h1",{className:"text-lg font-semibold text-foreground",children:"Մուտքեր"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{className:"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-9 w-9 p-0",children:(0,r.jsx)(d.Z,{className:"h-4 w-4"})}),(0,r.jsx)("button",{className:"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-9 w-9 p-0",onClick:()=>e.push("/login"),children:(0,r.jsx)(u.Z,{className:"h-4 w-4"})})]})]})}),(0,r.jsx)("main",{className:"container mx-auto px-4 py-6 pb-20",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"rounded-xl border bg-card text-card-foreground shadow",children:(0,r.jsx)("div",{className:"p-6 pt-6",children:(0,r.jsx)("div",{dir:"ltr",className:"w-full",children:(0,r.jsxs)("div",{role:"tablist","aria-orientation":"horizontal",className:"h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground grid w-full grid-cols-3",children:[(0,r.jsxs)("button",{type:"button",role:"tab","aria-selected":"manual"===t,"data-state":"manual"===t?"active":"inactive",onClick:()=>n("manual"),className:"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow text-xs",children:[(0,r.jsx)(x.Z,{className:"h-3.5 w-3.5 mr-1"}),"Ձեռքով"]}),(0,r.jsxs)("button",{type:"button",role:"tab","aria-selected":"camera"===t,"data-state":"camera"===t?"active":"inactive",onClick:()=>n("camera"),className:"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow text-xs",children:[(0,r.jsx)(c.Z,{className:"h-3.5 w-3.5 mr-1"}),"Տեսախցիկ"]}),(0,r.jsxs)("button",{type:"button",role:"tab","aria-selected":"device"===t,"data-state":"device"===t?"active":"inactive",onClick:()=>n("device"),className:"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow text-xs",children:[(0,r.jsx)(h.Z,{className:"h-3.5 w-3.5 mr-1"}),"Սարք"]})]})})})}),(0,r.jsxs)("div",{className:"rounded-xl border bg-card text-card-foreground shadow",children:[(0,r.jsx)("div",{className:"flex flex-col space-y-1.5 p-6 pb-3",children:(0,r.jsx)("div",{className:"font-semibold tracking-tight text-base",children:"Ապրանքների ցանկ"})}),(0,r.jsxs)("div",{className:"p-0 space-y-0",children:["camera"===t&&(0,r.jsxs)("div",{className:"border-b border-border bg-black/60 text-white",children:[(0,r.jsx)("video",{ref:v,className:"w-full rounded-b-xl",playsInline:!0,muted:!0}),(0,r.jsxs)("div",{className:"px-4 py-2 text-xs text-white/80 flex justify-between",children:[(0,r.jsx)("span",{children:j?"Գտնված բարկոդը: ".concat(j):"Սկանավորում..."}),y&&(0,r.jsx)("span",{className:"text-red-400",children:y})]})]}),(0,r.jsx)("div",{className:"space-y-0",children:Z.map((e,n)=>{var s;return(0,r.jsxs)("div",{ref:t=>{C.current[e.code]=t},className:"p-4 space-y-2 border-b border-border last:border-none",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-foreground",children:e.title}),(0,r.jsx)("div",{className:"flex flex-col items-end gap-1 text-xs text-muted-foreground",children:(0,r.jsx)("div",{className:"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 bg-muted text-muted-foreground border-border shrink-0",children:(0,r.jsx)("span",{className:"text-muted-foreground",children:null!==(s=e.stock)&&void 0!==s?s:0})})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,r.jsxs)("span",{children:["Կոդ: ",e.code]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:["Հասցե: ",e.location]})]}),"manual"===t?(0,r.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,r.jsx)("button",{className:"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input shadow-sm hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-9 w-9 p-0",onClick:()=>z(e.code,-1),children:(0,r.jsx)(f.Z,{className:"h-4 w-4"})}),(0,r.jsx)("div",{className:"flex-1 text-center",children:(0,r.jsx)("span",{className:"text-lg font-semibold",children:e.current})}),(0,r.jsx)("button",{className:"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input shadow-sm hover:bg-accent hover:text-accent-foreground rounded-md text-xs h-9 w-9 p-0",onClick:()=>z(e.code,1),children:(0,r.jsx)(x.Z,{className:"h-4 w-4"})})]}):null]},e.code)})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[(0,r.jsxs)("button",{className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input shadow-sm hover:bg-accent hover:text-accent-foreground px-4 py-2 h-12",onClick:()=>{window.localStorage.setItem(_,JSON.stringify(B.current))},children:[(0,r.jsx)(a.Z,{className:"mr-2 h-4 w-4"}),"Պահպանել"]}),(0,r.jsx)("button",{className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 px-4 py-2 h-12",children:"Ուղարկել"})]})]})})]}),(0,r.jsx)("section",{"aria-label":"Notifications alt+T",tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"})]})}}},function(e){e.O(0,[102,971,23,744],function(){return e(e.s=7911)}),_N_E=e.O()}]);